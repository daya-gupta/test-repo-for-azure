(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{129:function(e,t,a){},132:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=a(13),l=(a(89),a(90),a(26));var s=Object(i.b)((function(e){return{common:e.common}}),{})((function(){return r.a.createElement("div",{className:"nav-container"},r.a.createElement("div",{className:"navbar navbar-expand-sm navbar-light"},r.a.createElement("span",{className:"navbar-brand"},"Stock Analysis"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/"},"Company")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/watchlist"},"Watchlist")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/comparision"},"Comparision"))))))})),u=a(11),m=a(18),p=a(14),h=a(12),d=a(15),f=(a(52),[{id:30,label:"1m"},{id:90,label:"3m"},{id:180,label:"6m"},{id:400,label:"1Yr"},{id:1080,label:"3Yr"},{id:1800,label:"Max"}]),v={activeWatchlistIndex:0,watchlistData:[{name:"Master",companies:[]}],metadata:{hdfcbank:{note:"good results!!",color:0}}},g=[0,1,2,4,9,13,26,52,104,156,260],b=function(){return JSON.parse(localStorage.getItem("app-data"))||v},y=function(e){localStorage.setItem("app-data",JSON.stringify(e))},E=function(){var e=b(),t=e.activeWatchlistIndex,a=e.watchlistData[t];if("Primary"===a.name){var n=e.watchlistData[0].companies.filter((function(t){return!e.metadata[t.id]||!e.metadata[t.id].color||"a"===e.metadata[t.id].color}));a.companies=n}else if("Secondary"===a.name){var r=e.watchlistData[0].companies.filter((function(t){return e.metadata[t.id]&&"c"===e.metadata[t.id].color}));a.companies=r}else if("Test"===a.name){var c=e.watchlistData[0].companies.filter((function(t){return e.metadata[t.id]&&"b"===e.metadata[t.id].color}));a.companies=c}return a},C=function(e){var t=b(),a=t.activeWatchlistIndex;t.watchlistData[a]=e,localStorage.setItem("app-data",JSON.stringify(t))},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e||!e.datasets||!e.datasets[0])return[];var a=e.datasets[0].values,n=e.datasets[1].values,r=a.map((function(e,t){return{date:e[0],price:Number(e[1]),volume:Number(n[t][1]),revenue:null,profit:null}}));return t.quarter&&t.quarter.map((function(e,a){var n=r.findIndex((function(t){return t.date.substr(0,7)===e}));-1!==n&&(r[n].revenue=Number(t.revenue[a]),r[n].profit=Number(t.profit[a]))})),r},D=function(e,t){var a=e.reduce((function(e,a){return e+(Number(a.priceChange[t])||0)}),0);return e.length?(a/e.length).toFixed(2):"NA"},O=function(e){var t=e.length,a=0;if(t>=6)for(var n=4;n<t;n++)if(e[n]<0)a-=2;else{var r=e[n-4];r<0||(e[n]>1.5*r?a+=3:e[n]>1.25*r?a+=2:e[n]>1.1*r?a+=1:e[n]<.7*r?a-=2:e[n]<.9*r&&(a-=1))}return a},S=function(e){var t=e.message,a=e.isHtml,n=void 0!==a&&a,r=e.messageType;return{type:"SET_ERROR",data:{message:t,isHtml:n,messageType:void 0===r?"error":r}}},k=function(e,t,a){var n=b(),r=n.metadata||{},c=r[e]||{};return c[t]=a,n.metadata[e]=c,y(n),{type:"METADATA_CHANGED",data:r}},N=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={addFlow:!1},a.selectWatchlist=function(e){a.props.selectWatchlist(e),a.toggleWatchlistContainer()},a.addNewWatchlist=function(){a.setState({addFlow:!0}),a.toggleWatchlistContainer()},a.confirmNewWatchlist=function(e){if(e){var t=a.nameInput.value;t&&a.props.addNewWatchlist(t)}a.setState({addFlow:!1})},a.toggleWatchlistContainer=function(){a.setState({toggleWatchlistContainer:!a.state.toggleWatchlistContainer})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.common,a=t.watchlistData,n=t.activeWatchlistIndex,c=a[n].name;return r.a.createElement("div",{className:"pull-right toggleWatchlistContainer"},r.a.createElement("button",{className:"custom-button",onClick:this.toggleWatchlistContainer},"Watchlist: ",r.a.createElement("b",null,c)),this.state.toggleWatchlistContainer&&r.a.createElement("div",{className:"listContainer"},a.map((function(t,a){var c=a===n?{fontWeight:800}:{};return r.a.createElement("li",{onClick:function(){return e.selectWatchlist(a)},style:c},t.name)})),r.a.createElement("li",null,r.a.createElement("button",{style:{background:"#aaa",color:"white"},className:"custom-button",onClick:this.addNewWatchlist},"Add new list"))),this.state.addFlow&&r.a.createElement("div",{className:"addWatchlistContainer"},r.a.createElement("div",null,r.a.createElement("input",{type:"text",ref:function(t){e.nameInput=t},placeholder:"Watchlist name..."}),r.a.createElement("button",{className:"custom-button",onClick:function(){return e.confirmNewWatchlist(!0)}},"Save"),"\xa0\xa0",r.a.createElement("button",{className:"custom-button",onClick:this.confirmNewWatchlist},"Cance"))))}}]),t}(r.a.PureComponent),x={selectWatchlist:function(e){var t=b();return t.activeWatchlistIndex=e,y(t),{type:"ACTIVE_WATCHLIST_CHANGED",data:e}},addNewWatchlist:function(e){var t=b();return t.watchlistData.push({name:e,companies:[]}),y(t),{type:"NEW_WATCHLIST_ADDED",data:t}}},j=Object(i.b)((function(e){return{common:e.common}}),x)(N),A=a(10),W=(a(92),a(50)),I=Object(W.b)(W.a),L=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,options:[]},a.selectCompany=function(e){a.setState({options:[]}),a.props.selectCompany(e)},a._handleSearch=function(e){a.setState({isLoading:!0}),a.props.searchCompany(e,(function(e){a.setState({isLoading:!1,options:e})}))},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(I,{id:"stock-typeahead",isLoading:this.state.isLoading,labelKey:"name",onSearch:this._handleSearch,options:this.state.options||[],placeholder:"Search for a company...",onChange:function(t){t.length&&e.props.selectCompany(t[0])}}))}}]),t}(r.a.Component),T=a(20),_=a.n(T),R=a(27),H=a.n(R),P=a(37),M=a.n(P),q=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"categoriesGenerator",value:function(){var e=[];return this.props.processedData.forEach((function(t){e=t.map((function(e){return e.date}))})),e}},{key:"getSeriesData",value:function(e,t){var a=[],n=this.props.chartType;switch(n){case"line":case"spline":case"bar":var r=e.map((function(e){return e.price}));a.push({type:n,name:"".concat(t,"_price"),data:r});var c=e.map((function(e){return e.volume}));a.push({type:"column",name:"".concat(t,"_volume"),data:c,yAxis:1});var o=e.map((function(e){return e.revenue}));a.push({type:"column",name:"".concat(t,"_revenue"),data:o,yAxis:2});var i=e.map((function(e){return e.profit}));a.push({type:"spline",name:"".concat(t,"_profit"),data:i,yAxis:3,connectNulls:!0});break;case"combined":var l=e.map((function(e){return Number(e.price)}));a.push({type:"line",name:t,data:l}),a.push({type:"column",name:t,data:l})}return a}},{key:"getData",value:function(){var e=this,t=[];this.props.processedData.forEach((function(a,n){var r=e.props.compareList[n].name;t.push(e.getSeriesData(a,r))}));var a=[];return t.forEach((function(e){e.forEach((function(e){a.push(e)}))})),a}},{key:"render",value:function(){var e=1===this.props.compareList.length?"Chart for ".concat(this.props.compareList[0].name):"Comparision chart",t={legend:{align:"center",verticalAlign:"bottom",layout:"vertical",x:-50},yAxis:[{title:{text:"Price"}},{title:{text:"Volume"},opposite:!0},{title:{text:"Revenue"}},{title:{text:"Profit"},opposite:!0}],xAxis:{title:{text:"date"},categories:this.categoriesGenerator()},labels:{items:[{style:{left:"50px",top:"18px",color:H.a.theme&&H.a.theme.textColor||"black"}}]},title:{text:e},series:this.getData()};return r.a.createElement("div",null,r.a.createElement(M.a,{highcharts:H.a,options:t}))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={selectedCompany:{id:3365,name:"Tata Consultancy Services Ltd",url:"/company/TCS/consolidated/"},historicalData:[],consolidatedData:[],duration:1080,chartType:"spline"},a.historicalDataCallback=function(e){a.setState({historicalData:e})},a.consolidatedDataCallback=function(e){a.setState({consolidatedData:e})},a.selectCompany=function(e){var t=Object(A.a)({},e);a.setState({selectedCompany:t});var n=a.state.duration,r=e.id,c=e.url;a.props.getHistoricalData({companyId:r,duration:n},a.historicalDataCallback),a.props.getConsolidatedData({url:c},a.consolidatedDataCallback)},a.renderChart=function(){var e=a.state.historicalData,t=a.state.consolidatedData,n=w(e,t);return r.a.createElement(q,{chartType:a.state.chartType,processedData:[n],compareList:[a.state.selectedCompany]})},a.addToWatchlist=function(){var e=a.state.selectedCompany,t=E(),n=null;0===t.companies.filter((function(t){return t.id===e.id})).length?(t.companies.push(e),C(t),n="Stock added successfully"):n="Stock already exist in the watchlist";var r={message:n};a.props.setError(r)},a.changeDuration=function(e){a.setState({duration:e});var t=a.state.selectedCompany.id;a.props.getHistoricalData({companyId:t,duration:e},a.historicalDataCallback)},a.renderDuration=function(){return r.a.createElement("div",{className:"btn-group pull-left mr-2 mb-2",role:"group","aria-label":"Basic example"},f.map((function(e){var t=a.state.duration===e.id?"active":"";return r.a.createElement("button",{type:"button",className:"btn btn-secondary ".concat(t),disabled:!a.state.selectedCompany,onClick:function(){return a.changeDuration(e.id)}},e.label)})))},a.render=function(){return r.a.createElement("div",{id:"company"},r.a.createElement("div",{className:"row ml-4 mr-4 mt-5 mb-5"},r.a.createElement("div",{className:"col-md-12 col-lg-8 company-actions"},a.renderDuration(),a.state.selectedCompany&&r.a.createElement("button",{className:"btn btn-primary pull-left mb-2",onClick:a.addToWatchlist},"Add to watchlist")),r.a.createElement("div",{className:"col-md-12 col-lg-4"},r.a.createElement(L,{searchCompany:a.props.searchCompany,selectCompany:a.selectCompany}))),r.a.createElement("div",{className:"col-12"},a.renderChart()))},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.duration,t=this.state.selectedCompany.id,a=this.state.selectedCompany.url;this.props.getHistoricalData({companyId:t,duration:e},this.historicalDataCallback),this.props.getConsolidatedData({url:a},this.consolidatedDataCallback)}}]),t}(n.Component),B={getHistoricalData:function(e,t){var a=e.companyId,n=e.duration;return function(e){e({type:"SHOW_LOADER"}),_.a.get("/historicalData?companyId=".concat(a,"&duration=").concat(n)).then((function(a){e({type:"HIDE_LOADER"}),t(a.data)}))}},getConsolidatedData:function(e,t){var a=e.url;return function(e){e({type:"SHOW_LOADER"}),_.a.get("/consolidatedData?url=".concat(a)).then((function(a){e({type:"HIDE_LOADER"});var n=function(e){var t={quarter:[],revenue:[],profit:[]},a=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("body #quarters table tr"),n=a[0].querySelectorAll("th"),r=a[1].querySelectorAll("td"),c=a[10].querySelectorAll("td");return n.forEach((function(e,a){if(a){var o=function(e){var t=e.split(" "),a=t[1],n=function(e){switch(e.toLowerCase()){case"mar":return"03";case"jun":return"06";case"sep":return"09";case"dec":return"12"}}(t[0]);return"".concat(a,"-").concat(n)}((n[a].textContent||"").trim());t.quarter.push(o),t.revenue.push((r[a].textContent||"").replace(/,/g,"").trim()),t.profit.push((c[a].textContent||"").replace(/,/g,"").trim())}})),t}(a.data);t(n)})).catch((function(t){var a=t.message;e({type:"SET_ERROR",data:{message:a,isHtml:!1,messagetype:"error"}})}))}},searchCompany:function(e,t){return function(a){a({type:"SHOW_LOADER"}),_.a.get("/searchCompany?data=".concat(e)).then((function(e){a({type:"HIDE_LOADER"}),t(e.data)}))}},setError:S},V=Object(i.b)((function(e){return{company:e.company,common:e.common}}),B)(F),G=a(29),J=(a(129),a(49)),z=a.n(J),Y=a(40),K=function(e){var t={quarter:[],revenue:[],profit:[]},a=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("body #quarters table tr");if(a&&a.length){var n=a[0].querySelectorAll("th"),r=a[1].querySelectorAll("td"),c=a[10].querySelectorAll("td");n.forEach((function(e,a){if(a){var o=function(e){var t=e.split(" "),a=t[1],n=function(e){switch(e.toLowerCase()){case"mar":return"03";case"jun":return"06";case"sep":return"09";case"dec":return"12"}}(t[0]);return"".concat(a,"-").concat(n)}((n[a].textContent||"").trim());t.quarter.push(o),t.revenue.push((r[a].textContent||"").replace(/,/g,"").trim()),t.profit.push((c[a].textContent||"").replace(/,/g,"").trim())}}))}return t},X=a(39),Z=a(71),$=a(72),Q=["a","b","c","d"],U=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={},a.toggleOptions=function(){var e=!a.state.showOptions;a.setState({showOptions:e,showNote:!1})},a.toggleNote=function(){var e=!a.state.showNote;a.setState({showNote:e,showOptions:!1})},a.updateMetadata=function(e,t,n){"color"===t?a.setState({showOptions:!1}):"note"===t&&(n=a.textarea.value,a.setState({showNote:!1})),a.props.dispatch(a.props.updateMetadata(e,t,n))},a.moveStock=function(e){a.toggleOptions(),a.props.moveStock(e)},a.render=function(){var e=a.state,t=e.showOptions,n=e.showNote,c=a.props.common.watchlistData,o=a.props,i=o.item,l=o.common.metadata||{},s=(l[i.id]||{}).note,u=(l[i.id]||{}).color,m="coloredCircle ".concat(u);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{style:{margin:"3px"},className:m,onClick:a.toggleOptions}),r.a.createElement("button",{className:"custom-button",onClick:a.toggleNote},"i"),n&&r.a.createElement("div",{style:{width:"auto"},className:"moreActions"},r.a.createElement("button",{style:{margin:"-6px, -6px, 0 0"},className:"custom-button pull-right",onClick:a.toggleNote},"\xd7"),r.a.createElement("h6",{class:"pull-left"},i.name),r.a.createElement("div",null,r.a.createElement("textarea",{ref:function(e){return a.textarea=e},defaultValue:s})),r.a.createElement("button",{style:{background:"white"},className:"pull-right",onClick:function(){return a.updateMetadata(i.id,"note")}},"Save")),t&&r.a.createElement("div",{className:"moreActions"},Q.map((function(e){var t="coloredCircle ".concat(e);return r.a.createElement("span",{className:t,onClick:function(){return a.updateMetadata(i.id,"color",e)}})})),r.a.createElement("hr",null),r.a.createElement("b",null,"Move to:"),c.map((function(e,t){return r.a.createElement("li",{className:"moveOptions",onClick:function(){return a.moveStock(t)}},e.name)}))))},a}return Object(d.a)(t,e),t}(r.a.PureComponent),ee=Object(i.b)((function(e){return{common:e.common}}),(function(e){return{updateMetadata:k,dispatch:e}}))(U);function te(){var e=Object(Z.a)(["\n    font-size: 10px,\n    color: #fa3,\n    cursor: pointer\n"]);return te=function(){return e},e}var ae=$.a.button(te()),ne=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).render=function(){var e=a.props,t=e.item,n=e.index,c=e.handleCheckboxChange,o=e.renderChart,i=e.removeStock,l=e.moveStock,s=(e.watchlist,e.watchlistData),u=e.priceChangeRange,m=t.growthScore.revenueScore,p=t.growthScore.profitScore,h=t.name,d=t.url,f=t.checked;t.change;return r.a.createElement("tr",{key:n},r.a.createElement("td",null,r.a.createElement(X.a.Check,{type:"checkbox",checked:f,onChange:c})),r.a.createElement("td",null,r.a.createElement(ee,{item:t,moveStock:l,watchlistData:s})),r.a.createElement("td",null,m,", ",p),r.a.createElement("td",null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.screener.in".concat(d)},h)),g.map((function(e,a){var n=t.priceChange[e],c=u[a],o=c[0],i=c[1],l=0,s=0,m=1;if(o>0);else if(i<0);else{if(n>0)s=256,m=(i-n)/i;else l=256,m=(o-n)/o}var p={backgroundColor:"rgba(".concat(l,", ").concat(s,", ").concat(0,", ").concat(1-m,")")};return r.a.createElement("td",{style:p},!a&&r.a.createElement("span",null,t.price," \xa0"),n," %")})),r.a.createElement("td",null,r.a.createElement(ae,{className:"fa fa-times",onClick:function(){return i(n)}})),r.a.createElement("td",null,o(t.historicalData,n)))},a}return Object(d.a)(t,e),t}(r.a.PureComponent),re=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"getSeriesData",value:function(e){var t=[];return t.push({type:"spline",name:"price",data:e.price}),t.push({type:"column",name:"volume",data:e.volume,yAxis:1}),t}},{key:"render",value:function(){var e={chart:{height:100},legend:{enabled:!1},yAxis:[{title:{text:!1,visible:!1}},{title:{text:!1,visible:!1},opposite:!0}],labels:{visible:!1},title:{text:""},series:this.getSeriesData(this.props.processedData)};return r.a.createElement("div",null,r.a.createElement(M.a,{highcharts:H.a,options:e,key:this.props.key}))}}]),t}(n.Component),ce=(a(132),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).initalizeWatchlist=function(){var e=E();a.props.getWatchlistData(e.companies,(function(t){var n=[],r=[];a.props.getComparisionListData(e.companies,(function(c){var o=[];e.companies.forEach((function(e,t){for(var a=c[t],n=[],i=0;i<a.quarter.length;i++){var l=a.quarter[i],s=Number(a.revenue[i]),u=Number(a.profit[i]);n.push({date:l,revenue:s,profit:u})}o.push(n),r.push(function(e){var t=e.map((function(e){return e.revenue})),a=e.map((function(e){return e.profit})),n=O(t),r=O(a);return{profitScore:r,revenueScore:n,combinedScore:n+r,averageProfitScore:(r/(e.length-4)).toFixed(2),averageRevenueScore:(n/(e.length-4)).toFixed(2)}}(n))})),e.companies.forEach((function(e,c){var o=t[2*c],i=t[2*c+1],l=Object(G.a)(o.data.datasets[0].values.map((function(e){return Number(e[1])}))),s=Object(G.a)(i.data.datasets[0].values.map((function(e){return Number(e[1])}))),u=s.pop(),m=s.pop();l.splice(l.length-1,1,m,u);var p=Object(G.a)(o.data.datasets[1].values.map((function(e){return Number(e[1])}))),h=Object(G.a)(i.data.datasets[1].values.map((function(e){return Number(e[1])}))),d=h.pop(),f=h.pop();p.splice(p.length-1,1,f,d);var v=a.calculateChange(c,{price:l,volume:p}),b=a.getPriceChange(l,g);n.push(Object(A.a)({price:l[l.length-1],volume:p[p.length-1],growthScore:r[c],score:r[c].combinedScore,change:v},e,{historicalData:{price:l,volume:p},priceChange:b}))})),a.setState({watchlist:e,watchlistData:n,averagePriceChange:a.getAveragePriceChange(n,g)})}))}))},a.calculatePriceChange=function(e,t){var a=t?t+1:1,n=e[0]||0,r=e[a],c="NA";return r&&(c=(100*(c=(n-r)/r)).toFixed(2)),c},a.getPriceChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,n=[];e=e.slice(0).reverse();var r=!0,c=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;n[s]=a.calculatePriceChange(e,s)}}catch(u){c=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(c)throw o}}return n},a.getAveragePriceChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,a=[],n=!0,r=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value;a[l]=D(e,l)}}catch(s){r=!0,c=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a},a.handleCheckboxChange=function(e,t){var n=a.state,r=n.watchlistData,c=n.watchlist,o=r[t];if("undefined"===typeof t){var i=!0,l=!1,s=void 0;try{for(var u,m=c.companies[Symbol.iterator]();!(i=(u=m.next()).done);i=!0){u.value.checked=e.target.checked}}catch(y){l=!0,s=y}finally{try{i||null==m.return||m.return()}finally{if(l)throw s}}var p=!0,h=!1,d=void 0;try{for(var f,v=r[Symbol.iterator]();!(p=(f=v.next()).done);p=!0){f.value.checked=e.target.checked}}catch(y){h=!0,d=y}finally{try{p||null==v.return||v.return()}finally{if(h)throw d}}}else{var g=e.target.checked,b=a.state.watchlist.companies.findIndex((function(e){return e.name===o.name}));c.companies[b].checked=g,o.checked=g}C(c),a.setState({watchlist:c,watchlistData:r})},a.compare=function(e){if(!e){var t=a.localData,n=t.watchlist,r=t.watchlistData;return a.setState({watchlist:n,watchlistData:r,averagePriceChange:a.getAveragePriceChange(r,g),compare:!1}),void(a.localData={})}var c=a.state,o=c.watchlistData,i=c.watchlist,l=o.filter((function(e){return e.checked})),s=Object(A.a)({},i,{companies:[]}),u=!0,m=!1,p=void 0;try{for(var h,d=function(){var e=h.value,t=i.companies.findIndex((function(t){return t.name===e.name}));s.companies.push(i.companies[t])},f=l[Symbol.iterator]();!(u=(h=f.next()).done);u=!0)d()}catch(v){m=!0,p=v}finally{try{u||null==f.return||f.return()}finally{if(m)throw p}}a.localData={watchlist:i,watchlistData:o},a.setState({watchlist:s,watchlistData:l,averagePriceChange:a.getAveragePriceChange(l,g),compare:!0})},a.removeStock=function(e){var t=Object(G.a)(a.state.watchlistData),n=t.splice(e,1)[0],r=a.state.watchlist,c=r.companies.findIndex((function(e){return e.name===n.name})),o=r.companies.splice(c,1)[0];return C(r),a.setState({watchlist:r,watchlistData:t,averagePriceChange:a.getAveragePriceChange(t,g)}),o},a.moveStock=function(e,t){var n=null;if(a.props.common.activeWatchlistIndex)n=a.removeStock(e);else{var r=Object(G.a)(a.state.watchlistData)[e],c=a.state.watchlist,o=c.companies.findIndex((function(e){return e.name===r.name}));n=c.companies[o]}if(n){var i="Item moved/copied successfully!!",l=b(),s=l.watchlistData[t];s.companies.find((function(e){return e.id===n.id}))?i="Item already exist in target watchlist!!":(s.companies.push(n),l.watchlistData[t]=s,y(l),l.watchlistData);var u={message:i};a.props.setError(u)}},a.renderChart=function(e,t){return r.a.createElement(re,{key:t,processedData:e})},a.calculateChange=function(e,t){function a(e,t){var a="NA";if(e&&Array.isArray(e)&&e.length>1){var n=e[e.length-1],r=e[e.length-2];a=(100*(n-(t?0:r))/r).toFixed(2)}return a}return{price:a(t.price),volume:a(t.volume,!0)}},a.sortBy=function(e,t){var n=a.state,r=n.watchlistData,c=n.sortBy,o=a.state.sortOrder;o=c!==e||!o,r.sort((function(a,n){if(-1!==e.indexOf("priceChange")){var r=e.split("."),c=a[r[0]][r[1]],o=n[r[0]][r[1]];return c-o||isNaN(c)-isNaN(o)}return t?a[e]-n[e]:(a[e]||"").toLowerCase()>(n[e]||"").toLowerCase()?1:-1})),o||r.reverse(),a.setState({watchlistData:r,sortBy:e,sortOrder:o})},a.renderWatchlist=function(){var e=a.state,t=e.watchlist,n=e.watchlistData,c=e.averagePriceChange;if(!t||!n||!n.length)return null;var o=-1===t.companies.findIndex((function(e){return!e.checked})),i=[],l=!0,s=!1,u=void 0;try{for(var m,p=function(){var e=m.value,t=n.map((function(t){return Number(t.priceChange[e])})),a=z.a.max(t),r=z.a.min(t);i.push([r,a])},h=g[Symbol.iterator]();!(l=(m=h.next()).done);l=!0)p()}catch(f){s=!0,u=f}finally{try{l||null==h.return||h.return()}finally{if(s)throw u}}console.log(i),n.map((function(e){return e.priceChange}));var d=n.map((function(e,c){return r.a.createElement(ne,{key:e.name,index:c,item:e,handleCheckboxChange:function(e){return a.handleCheckboxChange(e,c)},renderChart:a.renderChart,removeStock:a.removeStock,moveStock:function(e){return a.moveStock(c,e)},watchlist:t,watchlistData:n,priceChangeRange:i})}));return r.a.createElement("table",{className:"table table-stripped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(X.a.Check,{type:"checkbox",checked:o,onChange:a.handleCheckboxChange})),r.a.createElement("th",null,r.a.createElement("span",{onClick:function(){return a.sortBy("color")}},"Color")),r.a.createElement("th",null,r.a.createElement("span",{onClick:function(){return a.sortBy("score",!0)}},"Score")),r.a.createElement("th",{style:{width:"20%"}},r.a.createElement("span",{onClick:function(){return a.sortBy("name")}},"Company")),r.a.createElement("th",null,r.a.createElement("span",{onClick:function(){return a.sortBy("priceChange.0",!0)}},"Price ",r.a.createElement("small",null,"(",c[0],"% change)"))),c.map((function(e,t){return e&&t?r.a.createElement("th",null,r.a.createElement("div",{onClick:function(){return a.sortBy("priceChange.".concat(t),!0)}},t," WC ",e," %")):null})),r.a.createElement("th",null,"Rem."),r.a.createElement("th",{style:{width:"30%"}},"Chart ",r.a.createElement("small",null)))),r.a.createElement("tbody",null,d))},a.renderCompareView=function(){return r.a.createElement("div",null,!a.state.compare&&r.a.createElement("button",{onClick:function(){return a.compare(!0)},className:"btn"},"Compare selected stocks >"),a.state.compare&&r.a.createElement("button",{onClick:function(){return a.compare(!1)},className:"btn"},"Back to Main view >"))},a.render=function(){var e=((a.state.watchlist||{}).companies||[]).length;return r.a.createElement("div",null,r.a.createElement("h4",null,"Watchlist (",e," stocks)"),a.renderCompareView(),a.renderWatchlist(),a.renderCompareView())},a.state={},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.initalizeWatchlist()}},{key:"componentWillReceiveProps",value:function(e){e.common.activeWatchlistIndex!==this.props.common.activeWatchlistIndex&&this.initalizeWatchlist()}}]),t}(r.a.Component)),oe={getWatchlistData:function(e,t){return function(a){var n=[];e.forEach((function(e){var t=e.id,a=_.a.get("/historicalData?companyId=".concat(t,"&duration=").concat(1850)),r=_.a.get("/historicalData?companyId=".concat(t,"&duration=",7));n.push(a),n.push(r)})),a({type:"SHOW_LOADER"}),Promise.all(n).then((function(e){var n=Object(Y.a)(e).slice(0);a({type:"HIDE_LOADER"}),t(n)}))}},setCompareList:function(e){return function(t){return t({type:"COMPARE_LIST",data:e})}},getComparisionListData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return function(a){var n=[];e.forEach((function(e){var t=e.url,a=_.a.get("/consolidatedData?url=".concat(t));n.push(a)})),a({type:"SHOW_LOADER"}),Promise.all(n).then((function(e){var n=Object(Y.a)(e).slice(0);a({type:"HIDE_LOADER"});var r=[];n.forEach((function(e){r.push(K(e.data))})),t(r)}))}},setError:S},ie=Object(i.b)((function(e){return{watchlist:e.watchlist,common:e.common}}),oe)(ce),le=a(77),se=a.n(le),ue=function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"loader-inner-container"},r.a.createElement("img",{className:"img-spinner",src:se.a,alt:"loader"})))},me=(a(133),a(134),null),pe={resetError:function(){return{type:"RESET_ERROR"}}},he=Object(i.b)((function(e){return{error:e.common.error||{}}}),pe)((function(e){if(!e.error.message)return null;var t,a=e.error,n="error-bar ".concat(a.messageType||"error");return t=e.resetError,me&&clearTimeout(me),me=setTimeout(t,5e3),r.a.createElement("div",{className:n},r.a.createElement("button",{className:"custom-button pull-right close",onClick:function(){return e.resetError()}},"\xd7"),a.isHtml?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:a.message}}):r.a.createElement("span",null,a.message))})),de=(a(135),a(24));var fe=Object(i.b)((function(e){return{common:e.common}}),null)((function(e){var t=e.common;return r.a.createElement("div",{className:"App"},t.showLoader&&r.a.createElement(ue,null),r.a.createElement(l.a,null,r.a.createElement(j,null),r.a.createElement(s,null),r.a.createElement(he,null),r.a.createElement("div",{className:""},r.a.createElement(de.a,{exact:!0,path:"/",component:V}),r.a.createElement(de.a,{path:"/company",component:V}),r.a.createElement(de.a,{path:"/watchlist",component:ie}))))})),ve=a(31),ge=a(78),be={cartItems:[]},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":var a=Object(A.a)({},e);return a.cartItems=t.data,a;case"ADD_ITEM":var n=Object(A.a)({},e),r=n.cartItems.length?[n.cartItems.length-1].id+1:1;return n.cartItems.push({name:"XYZ",price:"$9.99",id:r}),n;case"REMOVE_ITEM":var c=e.cartItems.filter((function(e){return e.id!==t.data.id}));return{cartItems:c};default:return e}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartTotal:"500",checkboxSelectionList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECKBOX_SELECTION_LIST":return Object(A.a)({},e,{checkboxSelectionList:t.data});default:return e}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},we=b(),De=Object(A.a)({showLoader:!1,compareList:[]},we,{error:null}),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_LOADER":var a=Object.assign({},e);return a.showLoader=!0,a;case"HIDE_LOADER":var n=Object.assign({},e);return n.showLoader=!1,n;case"COMPARE_LIST":return Object(A.a)({},e,{compareList:t.data});case"RESET_ERROR":return Object(A.a)({},e,{error:null});case"SET_ERROR":return Object(A.a)({},e,{error:t.data});case"ACTIVE_WATCHLIST_CHANGED":return Object(A.a)({},e,{activeWatchlistIndex:t.data});case"WATCHLIST_CHANGED":return Object(A.a)({},e,{watchlistData:t.data});case"METADATA_CHANGED":return Object(A.a)({},e,{metadata:t.data});case"NEW_WATCHLIST_ADDED":return Object(A.a)({},e,{watchlistData:t.data.watchlistData});default:return e}},Se=Object(ve.c)({comapny:ye,watchlist:Ee,comparision:Ce,common:Oe}),ke=Object(ve.a)(ge.a),Ne=Object(ve.d)(Se,ke);o.a.render(r.a.createElement(i.a,{store:Ne},r.a.createElement(fe,null)),document.getElementById("root"))},52:function(e,t,a){},77:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},80:function(e,t,a){e.exports=a(136)},89:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.47a207cf.chunk.js.map